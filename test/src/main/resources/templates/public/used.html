<!DOCTYPE html>
<div xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/layout_public}">

<head>
	<meta charset="utf-8">
	<title>used</title>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	<style>
							.all-container{
	padding-left:10% ;
	padding-right:10% ;
}
		.retro-container {
			background-color: #fff;
			border: 1px solid #ddd;
			padding: 5%;
			margin: 20px auto;
			max-width: 1000px;
			box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
			display: flex;
			/* 이미지와 정보를 가로로 나란히 배치하기 위해 flex 사용 */
		}

		.retro-title {
			font-size: 40px;
			margin-left: 50px;
			margin-top: 0px;
		}

		.retro-price {
			font-size: 40px;
			margin-left: 50px;
			margin-top: -40px;
		}

		.retro-content {
			margin-left: 50px;
			margin-top: -40px;
		}

		.retro-date {
			margin-left: 50px;

		}

		.product-img {}

		.waringmessage {
			padding: 5%;
			margin: 20px auto;
			text-align: center;
			width: 800px;
			background-color: rgb(240, 240, 240);

		}

		.text11 {
			border-bottom: solid 1px;
			border-width: 10%;
			
		}

		.text-form {
			text-align: center;
			margin-top: -50px;
		}

		.content {
			border: 1px solid #ddd;
			padding: 5%;
			margin: 3px auto;
			max-width: 800px;
			box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
			display: flex;

		}

		.content11 {
			margin-top: -50px;
			margin-right: 20px;
		}

		.text2 {
			margin-left: 50px;
			margin-top: 40px;
		}

		.text3 {
			margin-left: 130px;
			margin-top: -15px;
			margin-bottom: 50px;
		}
		
		   .slideshow-container {
        position: relative;
        max-width: 100%;
        margin: auto;
    }

    .mySlides {
        display: none;
    }

    .prev, .next {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        padding: 10px;
        font-size: 30px;
        cursor: pointer;
        color: rgb(0, 0, 0);
    }

    .prev {
        left: 0;
    }

    .next {
        right: 0;
    }
    .used-title{
		margin-right: 40px;
	}
	</style>
</head>


	
	<div layout:fragment="content">
<div class="all-container">
		<div class="retro-container">
		

<div class="slideshow-container">
    <div th:each="productImgDto, status: ${used.usedImgList}">
        <div class="mySlides">
            <input type="hidden" name="productImgIds" th:value="${productImgDto.id}">
            <img class="product-image" th:src="${productImgDto.imgUrl}" width="500" height="500">
        </div>
    </div>


    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>

    <a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>



		
			<div class="used-title" >
				<button type="button" id="yourButtonId" >상품보기</button>
				<input type="hidden" id="used.id" th:value="${used.id}">
				<p class="retro-title" th:text="${used.title}">제목</p><br>
				<p class="retro-price" th:text="${used.price}+'원'">가격</p><br>
				<p class="text2"><b>결제혜택</b> : 중고나라 페이 첫 결제 혜택<br></p>
				<p class="text3">
					CU 알뜰택배 무료배송<br>
					세븐일레븐 편의점 택배 무료<br>
					편의점 픽업 수수료 무료</p>

				<span class="retro-date"><b>구매 한 날짜:</b> </span><span class="retro-date1"
					th:text="${#temporals.format(used.orderProduct.order.orderDate, 'yyyy-MM-dd')}">주문 내역</span>
				<!-- 실제 작성일 들어가야됨, 옷 사이즈가 createDate문임 수정 해야됨-->


			</div>
		</div>
		<div class="waringmessage">
			<div class="text-form">
				<p>
				<h3 style="color: red; text-align: center;">거래 전 주의사항 안내</h3><br>
				판매자가 별도의 메신저로 결제링크를 보내거나 직거래(직접송금)을<br>
				유도하는 경우 사기일 가능성이 높으니 거래를 자제해 주시고<br>
				<p class="text11">HENRY IV 고객센터로 신고해주시기 바랍니다.</p>
			</div>
		</div>
		<div class="content">
			<p class="content11" th:text="'내용 : '+${used.content}">내용</p>
			

		</div>
</div>
	</div>
</div>


		<script>
			function redirectToUsedPage() {
				// 현재 페이지 주소를 가져옵니다.
				var currentURL = window.location.href;

				// 현재 페이지 주소에서 "/public/"을 "/used/"으로 대체합니다.
				var newURL = currentURL.replace("/used/", "/product/");

				// 변경된 주소로 페이지를 이동합니다.
				window.location.href = newURL;
			}
			var button = document.getElementById("yourButtonId"); // 버튼의 ID를 지정하세요.
			button.addEventListener("click", redirectToUsedPage);



		</script>
		<script>
    var slideIndex = 0; 
    var totalPages = document.getElementsByClassName("mySlides").length; // 전체 슬라이드 수

    showSlides();


    function plusSlides(n) {
        slideIndex += n;
        showSlides();
    }


    function showSlides() {
        var i;
        var slides = document.getElementsByClassName("mySlides");

        if (slideIndex >= slides.length) {
            slideIndex = 0;
        } else if (slideIndex < 0) {
            slideIndex = slides.length - 1;
        }

        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }

        slides[slideIndex].style.display = "block";
    }
</script>

	


</body>

</html>